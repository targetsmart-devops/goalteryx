package util_test

import (
	"github.com/tlarsen7572/goalteryx/sdk/util"
	"testing"
)

/*
NOTE: The Alteryx bin folder must be in your path for these tests to work! When a plugin is run from Alteryx all of
the needed DLLs will already be loaded, so users don't have to add the installation folder to their own path.
*/

func TestDecrypt(t *testing.T) {
	t.Skip()
	password := `301000000D08C9DDF0115D1118C7A00C04FC297EB01000000560AEE92FF11434FA167FF3D497A4A7600000000080000005000570044000000106600000001000020000000C2294662432BF2EF2D6C4EC4DEC8C7D841E6F85813C0527644A3366B253EB858000000000E800000000200002000000047CAD2D94367631446F9FD283E4E26A93DA3379307D3F6CEAAEA40FD4F719811000400008F1F4E2705023B89F5EB74CFF85B42F8565C4441F546952883946379F0169F6B8C111003D00C9EFCB12DD47A2E3B5C4FDCD18799659FB8596A5E89F125156F0C84E00FF1E54B0B017A202F66F4A74AA2D78CC3E366D2FE4B1C9273A58D199F275A50C49222DC8DCD2C39C7CBB9508D82627F5E2DFDB710863254F170C2A6BE5D697CB498595D841B2FB7CEC1D52344E88D2D44E2CD5B0357CF3C2CFD11D8E2F1483A2AE8FC98B4724905089FC4999FD7890C75308E1EF7FABCAE7A1EB7F240F22E1B7ADC99EF3FD9C878B80E2BFDE52F18B1931A24C887ECEA5CEB610375000ECAD7D8ECF88AF6883CC346154C14C48F3FCDD6E24CAEEB25EA4E400745358C1D6A81ABE282DF7AA3F6C45D3BF175F797D8A17D4AF3D2F47BA20AF9813597145014CD537D3175EFF7EA505F1A2BDE4B28C9BF5F274FFD83929A5C1AFF8F19F5A797D3E44ABC5FEE2B6924A1B8B82E03152BD61108D7813DCD70AA4451E26EC8D5016137711A419B6C849797A5870F7AC15FE9F75392DA108CD7BB6BE6C4DA41C7364A80B6BD01E5E5EFA27E1DD06F640732D3BCB67BB09A9952B1EB7A1BC7DA577CA52EE2E1087A3FB2C80D7BDC2AF603B0066E21C1DDA2998CF50369CBBFD861C43ED4CE7D0C4D9794C136AE00164C23D6E68DC97247719D26EE26097DC2A12D0C686027229D9D87166CDD457ADA265347C590F3AFC1D01F8D1D00E90C3A447BD0636066501D6C9E2149FE35FAC5641B948491A9D4EF80DA03D7DB44B23A9487A04136E8A52D82FB7C546F6F5E205D06D3E1F6FA6275BBAD1C76FBB322AFC00710088E23789C609F26DABC4CB05DEDB7A8FF51F09177F1AFCC5C33A7957BDEEC81E73A34CF676A4093980B53EF09CEBC9C08EEC4DC52128199499D925F2884AB59B7B59F6EABD2A9A551DECB8B228EBC56EDEDE847FF0530ECB45CDA51263E8B1C990EE0824498A40C98583662D9301D18E572A261ABED8D2B27877F190D51997CA96C64E7C69D2E2EFA7C3EBC5E4FC65A2C1D31E390D572836C796898970718A44EE57AC3B5550D172C72D5A62920E4FB0ABC2951902A7553A81AB0F0AB314A3B3281C3B79A8BE1AAB4CBAC1256EDCDB0CF3B179AED3B751D19E63F846D0F550DE7D6903A8F77F62CF010E8CEDEFE0D7E3E34D545841DDB8017CFCA3B583E45FA4774C611C1A24B68E7E4BE852C0D7C121E8806D29298537E735944EE9B33C2CF4215EE098F4CA83A4FA4FCDC31FDFC794B05421EEAFA777CCDB5A6EE257BE134FA775FE26BC548B26B4B774808E1BDF5E7683DA2119E8610EDDAD442E758A03D5D56BF4674FEE3C593AC6DC5586EB9253D0F3F698D385877BF0CA13AA83748AEB341FDFFD427C771278DBD244B80E45E60D6C769095D8B33BD81B82D540988EF4AAFDA160E52F35FCF921564F717E668F106BC69488A4BAFD89BCEBD936E3640000000499587C34C1E92BCB0A43A1C84799A7991BB0DF8CDA446ED5D34444BFB26D7F38DE9E5A7FD5A29DBAB486595663E715CA5F076C6E27B3FD1F7CE2736264F6BE0`
	decrypted, err := util.Encrypt(password)
	if err != nil {
		t.Fatalf(`expected no error but got: %v`, err.Error())
	}
	if decrypted != `hello world` {
		t.Fatalf(`expected 'hello world' but got '%v'`, decrypted)
	}
	t.Logf(decrypted)

	password = `301000000D08C9DDF0115`
	decrypted, err = util.Encrypt(password)
	if err == nil {
		t.Logf(`unexpected result '%v'`, decrypted)
		t.Fatalf(`expected an error but got none`)
	}
	t.Logf(err.Error())
}
